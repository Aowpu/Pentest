# Path Traversal
## Path Traversal vulnerability là gì
- Path Traversal vulnerability là một lỗ hổng web cho phép kẻ tấn công đọc các file không mong muốn trên server. Nó dẫn đến việc bị lộ thông tin nhạy cảm của ứng dụng như `thông tin đăng nhập` , `một số file` hoặc `thư mục của hệ điều hành`. Trong một số trường hợp cũng có thể ghi vào các files trên server, cho phép kẻ tấn công có thể thay đổi dữ liệu hay thậm chí là chiếm quyền điều khiển server.

## Thứ cần thiết để khai thác lỗ hổng
- Ở những nơi có đường dẫn có thể chỉnh sửa, hoặc là kết hợp trong các lỗi như `file upload`,...
- Sử dụng đường dẫn `tuyệt đối` hoặc `tương đối` tùy vào mỗi trường hợp.
## Một số cách ngăn chặn.
- Nên validate input của người dùng trước khi xử lý nó.
- Sử dụng whitelist cho những giá trị được cho phép.
- Hoặc tên file là những kí tự số,chữ không nên chứa những ký tự đặc biệt.

## Một số bài viết tham khảo
- [Hacktricks](https://book.hacktricks.xyz/pentesting-web/file-inclusion)
- [PortSwigger](https://portswigger.net/web-security/file-path-traversal)
- [OSWAP](https://owasp.org/www-community/attacks/Path_Traversal)

## Demo lab về lỗ hổng File-Upload
1. [Lab Cyberjutsu](https://hackmd.io/@AowPhwc/r1hMLHspa)

## Tổng kết sau khi làm Lab
- Cần phân biệt rõ việc upload lên server là chỉ có lưu trữ hay có cả xử lí vì việc RCE cần file đó cần được xử lí (nên nhìn rõ trong config của trang web)
- Lỗ hổng này xuất hiện chủ yếu trên các ngôn ngữ File-base như php, asp, jsp còn gần như không xuất hiện trên Route-base

