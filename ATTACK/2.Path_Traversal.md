# Path Traversal
## Path Traversal vulnerability là gì
- Path Traversal vulnerability là một lỗ hổng web cho phép kẻ tấn công đọc các file không mong muốn trên server. Nó dẫn đến việc bị lộ thông tin nhạy cảm của ứng dụng như `thông tin đăng nhập` , `một số file` hoặc `thư mục của hệ điều hành`. Trong một số trường hợp cũng có thể ghi vào các files trên server, cho phép kẻ tấn công có thể thay đổi dữ liệu hay thậm chí là chiếm quyền điều khiển server.

## Thứ cần thiết để khai thác lỗ hổng
- Ở những nơi có đường dẫn có thể chỉnh sửa, hoặc là kết hợp trong các lỗi như `file upload`,...
- Sử dụng đường dẫn `tuyệt đối` hoặc `tương đối` tùy vào mỗi trường hợp.
## Một số cách ngăn chặn.
- Nên validate input của người dùng trước khi xử lý nó.
- Sử dụng whitelist cho những giá trị được cho phép.
- Hoặc tên file là những kí tự số,chữ không nên chứa những ký tự đặc biệt.

## Một số bài viết tham khảo
- [Hacktricks](https://book.hacktricks.xyz/pentesting-web/file-inclusion)
- [PortSwigger](https://portswigger.net/web-security/file-path-traversal)
- [OSWAP](https://owasp.org/www-community/attacks/Path_Traversal)

## Demo lab về lỗ hổng Path-Traversal
- Bài lab dưới đây ở phần 6 mô tả lại lỗi mà 12.7% web trên thế giới mắc phải
- [Lab Cyberjutsu](https://hackmd.io/@AowPhwc/r1hMLHspa)

## Tổng kết sau khi làm Lab
- Cách hiệu quả nhất để ngăn chặn các lỗ hổng truyền tải đường dẫn là tránh chuyển hoàn toàn dữ liệu đầu vào do người dùng cung cấp tới API hệ thống tệp.
- Sử dụng đường dẫn tuyệt đối
- Kiểm tra dữ liệu đầu vào
- Sử dụng các chỉ mục thay vì các phần thực tế của tên tệp khi tạo khuôn mẫu hoặc sử dụng tệp ngôn ngữ
- Sử dụng mã hóa

